# File containing the server certificate. Use port 443 when using ssl
ssl-certificate-file = /etc/letsencrypt/live/occase.de/fullchain.pem

# File containing the server private key.
ssl-private-key-file = /etc/letsencrypt/live/occase.de/privkey.pem

# File containing Diffie-Hellman parameters. Can be generated with
# the following command
#
# $ openssl dhparam -out dhparam4096.pem 4096
#
ssl-dh-file = /etc/occase/dhparam4096.pem

# We use the same log levels as syslog, they are
#
#  - emerg
#  - alert
#  - crit
#  - err
#  - warning
#  - notice
#  - info
#  - debug
log-level = debug

# Redis related configuration.
#-----------------------------------------------------------------------

# Redis host
redis-host = 127.0.0.1

# Redis port
redis-port = 6379

# The maximum allowed size of the redis pipele. Higher values will
# greately improve performance on high message rate.
redis-max-pipeline-size = 2048

# The time we are willing to wait for the occase-db to retrieve the
# user message after adding it to the user message queue (with rpush).
#
# This operation will be performed by starting a timer with the
# deadline provided here. If occase-db does not retrieve the message
# before the timer fires, the notification will be sent to firebase.
# Otherwise the timer is canceled and nothing happens. If another
# message arrives on an ongoing timer, a new deadline is reset. Unit:
# seconds.
wait-interval = 5

# The FCM server
fcm-port = 443
fcm-host = fcm.googleapis.com
fcm-target = /fcm/send

# The size of the push notifications size cannot exceed a certain
# threshold, otherwise FCM reports an error.
max-message-size = 2000

# The Firebase Cloud Messaging (FCM) token, where the notifications
# shall be sent to. By making this empty, the notification request
# won't be sent but printed on the screen.
#
# NOTE: that key= is not part of the token but is there to simplify
# setting the headers. The final for is key=token
fcm-server-token = key=AAAAKavk7EY:APA91bEtq36uuNhvGSHu8hEE-EKNr3hsgso7IvDOWCHIZ6h_8LXPLz45EC3gxHUPxKxf3254TBM1bNxBby_8xP4U0pnsRh4JjV4uo4tbdBe2sSNrzZWoqTgcCTqmk3fIn3ltiJp3HKx2

# This is the redis channel where the occase-db will publish the
# tokens it receives from the users. At the moment fcm tokens.
redis-notify-channel = notify

# The name of the redis key used to store fcm tokens.
redis-tokens-key = fcm_tokens

